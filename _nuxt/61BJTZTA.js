import{d as H,s as R,aH as g,aI as T,aJ as y,aK as q,aL as h,C as e,af as _,w as o,h as u,aM as x,aN as z,c as s,i as r,ah as k,f as m,t as v,e as w,ae as E,F,q as C,aO as I,aP as M,aQ as O,g as Q,aa as j,al as J}from"./DhNoT0Bd.js";import{_ as K,a as X}from"./DkY9F4Gk.js";import Y from"./Ct1HKCC4.js";import{_ as G,a as W}from"./D6NO_6CS.js";import"./CPfGH0BT.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";const Z={class:"text-gray-500 dark:text-gray-400"},tt={class:"flex flex-wrap items-center gap-3 mt-4"},et={key:1},ut=H({__name:"[slug]",async setup(at){var p;let a,i;const c=R(),{data:t}=([a,i]=g(()=>x(c.path,()=>C(c.path).findOne(),"$Qh4t3Yy4IX")),a=await a,i(),a);if(!t.value)throw T({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:d}=([a,i]=g(()=>x(`${c.path}-surround`,()=>C("/scripted").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(I(c.path)),{default:()=>[]})),a=await a,i(),a);if(y({title:t.value.title,meta:[{property:"og:title",content:t.value.title},{name:"description",content:t.value.description},{property:"og:description",content:t.value.description}]}),(p=t.value.image)!=null&&p.src){const l=q();y({meta:[{property:"og:image",content:h(l.url,t.value.image.src)},{name:"twitter:image",content:h(l.url,t.value.image.src)}]})}return(l,f)=>{const U=M,$=j,b=J,B=K,P=Y,S=G,N=X,D=W,L=O,V=z;return e(t)?(s(),_(V,{key:0},{default:o(()=>[r(B,{title:e(t).title,description:e(t).description},{headline:o(()=>[r(U,k(e(t).badge,{variant:"subtle"}),null,16),f[0]||(f[0]=m("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),m("time",Z,v(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[m("div",tt,[(s(!0),w(F,null,E(e(t).directors,(n,A)=>(s(),_(b,{key:A,to:n.to,color:"white",target:"_blank",size:"sm"},{default:o(()=>[r($,k({ref_for:!0},n.avatar,{alt:n.name,size:"2xs"}),null,16,["alt"]),Q(" "+v(n.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),r(L,null,{right:o(()=>[e(t).body&&e(t).body.toc?(s(),_(D,{key:0,links:e(t).body.toc.links},null,8,["links"])):u("",!0)]),default:o(()=>[r(N,{prose:""},{default:o(()=>{var n;return[e(t)&&e(t).body?(s(),_(P,{key:0,value:e(t)},null,8,["value"])):u("",!0),(n=e(d))!=null&&n.length?(s(),w("hr",et)):u("",!0),r(S,{surround:e(d)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):u("",!0)}}});export{ut as default};
