import{d as N,z as J,B as K,ao as Q,ap as $,c as f,e as a,f as c,h as y,n as g,C as t,ac as P,i as U,t as k,F as O,aa as R,ab as i,aH as W,af as x,aI as G,w as r,ad as X,aJ as S,ae as D,s as Y,aK as L,aL as A,q as B,aM as Z,aN as ee,aO as I,aP as te,aQ as z,g as p,ak as ae,aR as ne,aS as se,aT as oe,aU as re}from"./C8k-nlHl.js";import{_ as ce,a as ie}from"./BMv2YAuV.js";import le from"./a70BLQYK.js";import{_ as ue}from"./DV2Jj1Gt.js";import"./BXrzI5Hl.js";import"./Dnd51l0P.js";const _e=N({inheritAttrs:!1,__name:"PageLinks",props:{title:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(m){const s=J(),u=K(()=>({wrapper:"space-y-3",title:"text-sm/6 font-semibold flex items-center gap-1.5",container:"space-y-3 lg:space-y-1.5",base:"flex items-center gap-1.5",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",icon:{base:"w-5 h-5 flex-shrink-0"},avatar:{base:"self-center",size:"2xs"},externalIcon:{name:s.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"},label:"text-sm/6 font-medium relative"})),l=m,{ui:e,attrs:v}=Q("page.links",$(l,"ui"),u,$(l,"class"),!0);return(_,h)=>{const d=X,b=D,C=W;return a(),f("div",x({class:t(e).wrapper},t(v)),[m.title||_.$slots.title?(a(),f("p",{key:0,class:g(t(e).title)},[P(_.$slots,"title",{},()=>[U(k(m.title),1)])],2)):c("",!0),y("div",{class:g(t(e).container)},[P(_.$slots,"default",{},()=>[(a(!0),f(O,null,R(m.links,(n,w)=>(a(),i(C,x({key:w,ref_for:!0},t(G)(n),{class:t(e).base,"active-class":t(e).active,"inactive-class":t(e).inactive,onClick:n.click}),{default:r(()=>[n.icon?(a(),i(d,{key:0,name:n.icon,class:g(t(S)(t(e).icon.base,n.iconClass))},null,8,["name","class"])):c("",!0),n.avatar?(a(),i(b,x({key:1,ref_for:!0},{size:t(e).avatar.size,...n.avatar},{class:t(S)(t(e).avatar.base,n.avatarClass)}),null,16,["class"])):c("",!0),y("span",{class:g(t(e).label)},[U(k(n.label)+" ",1),n.target==="_blank"?(a(),i(d,{key:0,name:t(e).externalIcon.name,class:g(t(e).externalIcon.base)},null,8,["name","class"])):c("",!0)],2)]),_:2},1040,["class","active-class","inactive-class","onClick"]))),128))])],2)],16)}}}),pe=Object.assign(_e,{__name:"UPageLinks"}),me={class:"text-gray-500 dark:text-gray-400"},de={class:"flex flex-wrap items-center gap-3 mt-4"},ge={key:1},be=N({__name:"[slug]",async setup(m){var _;let s,u;const l=Y(),{data:e}=([s,u]=L(()=>A(l.path,()=>B(l.path).findOne(),"$mHNnW6MtOg")),s=await s,u(),s);if(!e.value)throw Z({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:v}=([s,u]=L(()=>A(`${l.path}-surround`,()=>B("/coproduction").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(ee(l.path)),{default:()=>[]})),s=await s,u(),s);if(I({title:e.value.title,meta:[{property:"og:title",content:e.value.title},{name:"description",content:e.value.description},{property:"og:description",content:e.value.description}]}),(_=e.value.image)!=null&&_.src){const h=te();I({meta:[{property:"og:image",content:z(h.url,e.value.image.src)},{name:"twitter:image",content:z(h.url,e.value.image.src)}]})}return(h,d)=>{const b=se,C=ne,n=D,w=ae,j=ce,H=le,M=ue,V=ie,T=pe,q=oe,E=re;return t(e)?(a(),i(E,{key:0},{default:r(()=>[p(j,{title:t(e).title,description:t(e).description},{icon:r(()=>{var o;return[(o=t(e).image)!=null&&o.src?(a(),i(b,{key:0,src:t(e).image.src,alt:t(e).image.alt,width:"200"},null,8,["src","alt"])):c("",!0)]}),headline:r(()=>[p(C,x(t(e).badge,{variant:"subtle"}),null,16),d[0]||(d[0]=y("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),y("time",me,k(new Date(t(e).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:r(()=>[y("div",de,[(a(!0),f(O,null,R(t(e).directors,(o,F)=>(a(),i(w,{key:F,to:o.to,color:"white",target:"_blank",size:"sm"},{default:r(()=>[p(n,x({ref_for:!0},o.avatar,{alt:o.name,size:"2xs"}),null,16,["alt"]),U(" "+k(o.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),p(q,null,{right:r(()=>[t(e).discover?(a(),i(T,{key:0,class:"py-3 lg:py-8",links:t(e).discover,title:"Discover"},null,8,["links"])):c("",!0)]),default:r(()=>[p(V,{prose:""},{default:r(()=>{var o;return[t(e)&&t(e).body?(a(),i(H,{key:0,value:t(e)},null,8,["value"])):c("",!0),(o=t(v))!=null&&o.length?(a(),f("hr",ge)):c("",!0),p(M,{surround:t(v)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):c("",!0)}}});export{be as default};
