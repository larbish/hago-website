import{r as h,E as $,aV as j,aW as H,d as I,a as L,u as E,ao as O,ap as y,c as b,f as x,e as m,af as S,C as e,F as N,aa as V,n as d,h as _,ab as R,aX as q,t as T,z,B as F,ac as w,g as A,ad as M}from"./GJsX5Nxx.js";const D=()=>{const t=h(),o=h([]),i=h([]),l=a=>{a.forEach(s=>{const u=s.target.id;s.isIntersecting?o.value=[...o.value,u]:o.value=o.value.filter(p=>p!==u)})},n=a=>{a.forEach(s=>{t.value&&t.value.observe(s)})};return $(o,(a,s)=>{a.length===0?i.value=s:i.value=a}),j(()=>t.value=new IntersectionObserver(l)),H(()=>{var a;return(a=t.value)==null?void 0:a.disconnect()}),{visibleHeadings:o,activeHeadings:i,updateHeadings:n}},P=["href","onClick"],W=I({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(t,{emit:o}){const i={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},l=t,n=o,a=L(),s=E(),{activeHeadings:u,updateHeadings:p}=D(),{ui:r,attrs:v}=O("content.toc.links",y(l,"ui"),i,y(l,"class"),!0);s.hooks.hookOnce("page:finish",()=>{p([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const f=g=>{const k=encodeURIComponent(g);a.push(`#${k}`),n("move",g)};return(g,k)=>{var C;const B=U;return(C=t.links)!=null&&C.length?(m(),b("ul",S({key:0,class:e(r).wrapper},e(v)),[(m(!0),b(N,null,V(t.links,c=>(m(),b("li",{key:c.text,class:d([e(r).wrapper,c.depth===3&&e(r).depth])},[_("a",{href:`#${c.id}`,class:d([e(r).base,e(u).includes(c.id)?e(r).active:e(r).inactive]),onClick:q(G=>f(c.id),["prevent"])},T(c.text),11,P),c.children?(m(),R(B,{key:0,links:c.children,ui:e(r)},null,8,["links","ui"])):x("",!0)],2))),128))],16)):x("",!0)}}}),U=Object.assign(W,{__name:"UContentTocLinks"}),X=I({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const o=z(),i=F(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:o.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),l=t,{ui:n,attrs:a}=O("content.toc",y(l,"ui"),i,y(l,"class"),!0),s=h(!1);return(u,p)=>{var f,g;const r=M,v=U;return m(),b("nav",S({class:e(n).wrapper},e(a)),[_("div",{class:d([(f=t.links)!=null&&f.length?e(n).container.base:e(n).container.empty])},[w(u.$slots,"top"),(g=t.links)!=null&&g.length?(m(),b("button",{key:0,class:d(e(n).button.base),tabindex:"-1",onClick:p[0]||(p[0]=k=>s.value=!e(s))},[_("span",{class:d(e(n).button.label)},T(t.title),3),A(r,{name:e(n).button.trailingIcon.name,class:d(["lg:!hidden",[e(n).button.trailingIcon.base,e(s)?e(n).button.trailingIcon.active:e(n).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):x("",!0),A(v,{links:t.links,ui:e(n).links,class:d([e(s)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),w(u.$slots,"bottom")],2)],16)}}}),K=Object.assign(X,{__name:"UContentToc"});export{K as _};
