import{d as E,x as j,aJ as x,aK as q,aL as k,aM as v,E as e,c as s,ah as _,w as o,g as u,aN as w,aO as z,h as r,aj as C,f as d,t as U,e as $,ag as F,F as H,s as b,aP as I,aQ as O,aR as J,k as K,ac as Q,an as G}from"./EEMAFwUn.js";import{_ as W,a as X}from"./D61voWSH.js";import Y from"./BFGSJw_i.js";import{u as Z,_ as tt,a as et}from"./CGoFCR0k.js";import"./DqDfjLQc.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";const at=d("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1),nt={class:"text-gray-500 dark:text-gray-400"},ot={class:"flex flex-wrap items-center gap-3 mt-4"},st={key:1},ft=E({__name:"[slug]",async setup(rt){var g,h,y;let a,c;const i=j(),{data:t}=([a,c]=x(()=>w(i.path,()=>b(i.path).findOne(),"$MAq8HiaDf3")),a=await a,c(),a);if(!t.value)throw q({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:m}=([a,c]=x(()=>w(`${i.path}-surround`,()=>b("/documentary").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(I(i.path)),{default:()=>[]})),a=await a,c(),a),p=((g=t.value.head)==null?void 0:g.title)||t.value.title,f=((h=t.value.head)==null?void 0:h.description)||t.value.description;if(k({title:p,ogTitle:p,description:f,ogDescription:f}),(y=t.value.image)!=null&&y.src){const l=Z();k({ogImage:v(l.url,t.value.image.src),twitterImage:v(l.url,t.value.image.src)})}return(l,ct)=>{const B=O,S=Q,D=G,P=W,N=Y,A=tt,L=X,M=et,R=J,T=z;return e(t)?(s(),_(T,{key:0},{default:o(()=>[r(P,{title:e(t).title,description:e(t).description},{headline:o(()=>[r(B,C(e(t).badge,{variant:"subtle"}),null,16),at,d("time",nt,U(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[d("div",ot,[(s(!0),$(H,null,F(e(t).directors,(n,V)=>(s(),_(D,{key:V,to:n.to,color:"white",target:"_blank",size:"sm"},{default:o(()=>[r(S,C({ref_for:!0},n.avatar,{alt:n.name,size:"2xs"}),null,16,["alt"]),K(" "+U(n.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),r(R,null,{right:o(()=>[e(t).body&&e(t).body.toc?(s(),_(M,{key:0,links:e(t).body.toc.links},null,8,["links"])):u("",!0)]),default:o(()=>[r(L,{prose:""},{default:o(()=>{var n;return[e(t)&&e(t).body?(s(),_(N,{key:0,value:e(t)},null,8,["value"])):u("",!0),(n=e(m))!=null&&n.length?(s(),$("hr",st)):u("",!0),r(A,{surround:e(m)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):u("",!0)}}});export{ft as default};
