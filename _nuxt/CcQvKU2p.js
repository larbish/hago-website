import{d as V,s as q,aK as f,aM as H,aO as y,aP as M,aQ as x,ab as c,f as _,C as e,w as a,aU as z,aL as h,q as k,aN as E,e as s,g as r,h as m,c as v,F,aa as I,ak as O,i as j,ae as K,af as w,t as C,aR as Q,aS as G,aT as J}from"./GJsX5Nxx.js";import{_ as W,a as X}from"./BLG6H48Y.js";import Y from"./CTD9PDZs.js";import{_ as Z}from"./BX_c8aUT.js";import{_ as tt}from"./bzOy5WsS.js";import"./D3_02UDm.js";import"./Dnd51l0P.js";const et={class:"text-gray-500 dark:text-gray-400"},nt={class:"flex flex-wrap items-center gap-3 mt-4"},ot={key:1},mt=V({__name:"[slug]",async setup(at){var d;let o,i;const u=q(),{data:t}=([o,i]=f(()=>h(u.path,()=>k(u.path).findOne(),"$MAq8HiaDf3")),o=await o,i(),o);if(!t.value)throw H({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:p}=([o,i]=f(()=>h(`${u.path}-surround`,()=>k("/documentary").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(E(u.path)),{default:()=>[]})),o=await o,i(),o);if(y({title:t.value.title,meta:[{property:"og:title",content:t.value.title},{name:"description",content:t.value.description},{property:"og:description",content:t.value.description}]}),(d=t.value.image)!=null&&d.src){const l=M();y({meta:[{property:"og:image",content:x(l.url,t.value.image.src)},{name:"twitter:image",content:x(l.url,t.value.image.src)}]})}return(l,g)=>{const U=G,b=Q,B=K,S=O,N=W,P=Y,$=Z,D=X,R=tt,A=J,L=z;return e(t)?(s(),c(L,{key:0},{default:a(()=>[r(N,{title:e(t).title,description:e(t).description},{icon:a(()=>{var n;return[(n=e(t).image)!=null&&n.src?(s(),c(U,{key:0,src:e(t).image.src,alt:e(t).image.alt,width:"200"},null,8,["src","alt"])):_("",!0)]}),headline:a(()=>[r(b,w(e(t).badge,{variant:"subtle"}),null,16),g[0]||(g[0]=m("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),m("time",et,C(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:a(()=>[m("div",nt,[(s(!0),v(F,null,I(e(t).directors,(n,T)=>(s(),c(S,{key:T,to:n.to,color:"white",target:"_blank",size:"sm"},{default:a(()=>[r(B,w({ref_for:!0},n.avatar,{alt:n.name,size:"2xs"}),null,16,["alt"]),j(" "+C(n.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),r(A,null,{right:a(()=>[e(t).body&&e(t).body.toc?(s(),c(R,{key:0,links:e(t).body.toc.links},null,8,["links"])):_("",!0)]),default:a(()=>[r(D,{prose:""},{default:a(()=>{var n;return[e(t)&&e(t).body?(s(),c(P,{key:0,value:e(t)},null,8,["value"])):_("",!0),(n=e(p))!=null&&n.length?(s(),v("hr",ot)):_("",!0),r($,{surround:e(p)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):_("",!0)}}});export{mt as default};
