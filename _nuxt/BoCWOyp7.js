import{d as V,s as A,aG as f,aH as M,aI as y,aJ as O,aK as x,C as e,c as s,ae as i,w as a,h as u,aL as h,aM as T,i as r,ag as k,f as d,t as v,e as w,ad as q,F as z,q as C,aN as E,aO as F,aP as j,g as G,a9 as I,ak as J}from"./DNFxQUlz.js";import{_ as K,a as W}from"./CJDkJqmv.js";import Q from"./vf-iSADW.js";import{_ as X,a as Y}from"./BP5IzLGg.js";import"./BOwookox.js";import"./Dnd51l0P.js";const Z={class:"text-gray-500 dark:text-gray-400"},tt={class:"flex flex-wrap items-center gap-3 mt-4"},et={key:1},it=V({__name:"[slug]",async setup(nt){var p;let n,_;const c=A(),{data:t}=([n,_]=f(()=>h(c.path,()=>C(c.path).findOne(),"$mHNnW6MtOg")),n=await n,_(),n);if(!t.value)throw M({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:m}=([n,_]=f(()=>h(`${c.path}-surround`,()=>C("/coproduction").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(E(c.path)),{default:()=>[]})),n=await n,_(),n);if(y({title:t.value.title,meta:[{property:"og:title",content:t.value.title},{name:"description",content:t.value.description},{property:"og:description",content:t.value.description}]}),(p=t.value.image)!=null&&p.src){const l=O();y({meta:[{property:"og:image",content:x(l.url,t.value.image.src)},{name:"twitter:image",content:x(l.url,t.value.image.src)}]})}return(l,g)=>{const U=F,b=I,B=J,N=K,P=Q,S=X,$=W,D=Y,H=j,L=T;return e(t)?(s(),i(L,{key:0},{default:a(()=>[r(N,{title:e(t).title,description:e(t).description},{headline:a(()=>[r(U,k(e(t).badge,{variant:"subtle"}),null,16),g[0]||(g[0]=d("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),d("time",Z,v(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:a(()=>[d("div",tt,[(s(!0),w(z,null,q(e(t).directors,(o,R)=>(s(),i(B,{key:R,to:o.to,color:"white",target:"_blank",size:"sm"},{default:a(()=>[r(b,k({ref_for:!0},o.avatar,{alt:o.name,size:"2xs"}),null,16,["alt"]),G(" "+v(o.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),r(H,null,{right:a(()=>[e(t).body&&e(t).body.toc?(s(),i(D,{key:0,links:e(t).body.toc.links},null,8,["links"])):u("",!0)]),default:a(()=>[r($,{prose:""},{default:a(()=>{var o;return[e(t)&&e(t).body?(s(),i(P,{key:0,value:e(t)},null,8,["value"])):u("",!0),(o=e(m))!=null&&o.length?(s(),w("hr",et)):u("",!0),r(S,{surround:e(m)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):u("",!0)}}});export{it as default};
